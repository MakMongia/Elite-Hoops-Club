{"ast":null,"code":"import React,{useState,useEffect}from'react';import'./Transcript.css';import{jsx as _jsx}from\"react/jsx-runtime\";const Transcript=_ref=>{let{text,audioRef}=_ref;const[highlightedIndex,setHighlightedIndex]=useState(-1);const[isPaused,setIsPaused]=useState(false);useEffect(()=>{if(!audioRef.current)return;const handleTimeUpdate=()=>{const currentTime=audioRef.current.currentTime;const index=findHighlightedIndex(currentTime);setHighlightedIndex(index);};const findHighlightedIndex=currentTime=>{let totalDuration=0;for(let i=0;i<text.length;i++){totalDuration+=getParagraphDuration(i);if(currentTime<totalDuration){return i;}}return-1;};const getParagraphDuration=index=>{// Define custom durations for each paragraph\nconst customDurations=[7,// Duration for the first paragraph\n7,// Duration for the second paragraph\n5,// Duration for the third paragraph\n7,// Duration for the fourth paragraph\n7,// Duration for the fifth paragraph\n5,// Duration for the sixth paragraph\n5,// Duration for the seventh paragraph\n8,// Duration for the eighth paragraph\n2// Duration for the ninth paragraph\n];// Return the duration for the corresponding paragraph index\nreturn customDurations[index]||0;};const handleAudioPause=()=>{setIsPaused(true);};const handleAudioPlay=()=>{setIsPaused(false);};audioRef.current.addEventListener('timeupdate',handleTimeUpdate);audioRef.current.addEventListener('pause',handleAudioPause);audioRef.current.addEventListener('play',handleAudioPlay);return()=>{audioRef.current.removeEventListener('timeupdate',handleTimeUpdate);audioRef.current.removeEventListener('pause',handleAudioPause);audioRef.current.removeEventListener('play',handleAudioPlay);};},[audioRef,text]);return/*#__PURE__*/_jsx(\"div\",{className:\"transcript \".concat(isPaused?'paused':''),children:text.map((sentence,index)=>/*#__PURE__*/_jsx(\"p\",{role:\"paragraph\",className:index===highlightedIndex?'highlighted':'',children:sentence},index))});};export default Transcript;","map":{"version":3,"names":["React","useState","useEffect","jsx","_jsx","Transcript","_ref","text","audioRef","highlightedIndex","setHighlightedIndex","isPaused","setIsPaused","current","handleTimeUpdate","currentTime","index","findHighlightedIndex","totalDuration","i","length","getParagraphDuration","customDurations","handleAudioPause","handleAudioPlay","addEventListener","removeEventListener","className","concat","children","map","sentence","role"],"sources":["/Users/mayank.mongia/Desktop/Personal/Repo Final/BASKETBALLCLUB/Elite-Final/WIP/GettingThere/Untitled/my-app/src/Component/Main/Transcript/Transcript.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport './Transcript.css';\n\nconst Transcript = ({ text, audioRef }) => {\n  const [highlightedIndex, setHighlightedIndex] = useState(-1);\n  const [isPaused, setIsPaused] = useState(false);\n\n  useEffect(() => {\n    if (!audioRef.current) return;\n\n    const handleTimeUpdate = () => {\n      const currentTime = audioRef.current.currentTime;\n      const index = findHighlightedIndex(currentTime);\n      setHighlightedIndex(index);\n    };\n\n    const findHighlightedIndex = (currentTime) => {\n      let totalDuration = 0;\n      for (let i = 0; i < text.length; i++) {\n        totalDuration += getParagraphDuration(i);\n        if (currentTime < totalDuration) {\n          return i;\n        }\n      }\n      return -1;\n    };\n\n    const getParagraphDuration = (index) => {\n      // Define custom durations for each paragraph\n      const customDurations = [\n        7, // Duration for the first paragraph\n        7, // Duration for the second paragraph\n        5, // Duration for the third paragraph\n        7, // Duration for the fourth paragraph\n        7, // Duration for the fifth paragraph\n        5, // Duration for the sixth paragraph\n        5, // Duration for the seventh paragraph\n        8, // Duration for the eighth paragraph\n        2, // Duration for the ninth paragraph\n      ];\n      // Return the duration for the corresponding paragraph index\n      return customDurations[index] || 0;\n    };\n\n    const handleAudioPause = () => {\n      setIsPaused(true);\n    };\n\n    const handleAudioPlay = () => {\n      setIsPaused(false);\n    };\n\n    audioRef.current.addEventListener('timeupdate', handleTimeUpdate);\n    audioRef.current.addEventListener('pause', handleAudioPause);\n    audioRef.current.addEventListener('play', handleAudioPlay);\n\n    return () => {\n      audioRef.current.removeEventListener('timeupdate', handleTimeUpdate);\n      audioRef.current.removeEventListener('pause', handleAudioPause);\n      audioRef.current.removeEventListener('play', handleAudioPlay);\n    };\n  }, [audioRef, text]);\n\n  return (\n    <div className={`transcript ${isPaused ? 'paused' : ''}`}>\n      {text.map((sentence, index) => (\n        <p key={index} role=\"paragraph\" className={index === highlightedIndex ? 'highlighted' : ''}>\n          {sentence}\n        </p>\n      ))}\n    </div>\n  );\n};\n\nexport default Transcript;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}